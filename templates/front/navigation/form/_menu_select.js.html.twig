{% set currentArea = app.request.get('area') %}
{% set currentRoom = app.request.get('room') %}

<script type="text/javascript">

    $(function () {
        $('#area_menu_select_area').on('change', function () {
            var areaId = $(this).val();
            var url = '{{ app.request.requestUri }}';
            url = url.replace('/area/{{ currentArea.id }}', '/area/' + areaId);
            if (url) {
                window.location = url;
            }
            return false;
        });
    });

    $(function () {
        $('#area_menu_select_room').on('change', function () {
            var roomId = $(this).val();
            var url = '{{ app.request.requestUri }}';

            {% if currentRoom %}
            url = url.replace('/room/{{ currentRoom.id }}', '/room/' + roomId);
            {% else %}
            url = url + '/' + roomId;
            {% endif %}

            if (url) {
                window.location = url;
            }
            return false;
        });
    });

</script>